// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  uuid      String    @default(uuid()) @id
  name      String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  phone     String    @unique
  address   String    
  chits     Chit[]
}
model Group {
  uuid      String    @default(uuid()) @id
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  batch     String
  month     Int
  year      Int
  chits     Chit[]
}
model Chit {
  uuid            String    @default(uuid()) @id
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  user            User      @relation(fields: [userId], references: [uuid])
  userId          String
  group           Group     @relation(fields: [groupId], references:[uuid])
  groupId         String
  noOfChits       Float
  payments        Payment[]
  withdrawalMonth Int
}
model Payment{
  uuid      String    @default(uuid()) @id
  createdAt DateTime  @default(now())
  chit      Chit      @relation(fields: [chitId], references: [uuid])
  chitId    String
  imonth    Int
  ispaid    Boolean   @default(false)
}